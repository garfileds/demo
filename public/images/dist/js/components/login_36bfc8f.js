webpackJsonp([7],{142:function(t,a,e){"use strict";function r(t){e(200)}Object.defineProperty(a,"__esModule",{value:!0});var i=e(168),n=e(204),o=e(21),s=r,l=o(i.a,n.a,!1,s,"data-v-587a08b0",null);a.default=l.exports},168:function(t,a,e){"use strict";var r=e(62),i=e.n(r),n=e(36),o=e.n(n),s=e(156),l=e(35),d=e(65),c=e(63);a.a={name:"userLogin",data:function(){return{email:"",password:"",validRule:{submitEl:"#btnLogin",submitHandler:"submitLoginHandler",msgAlert:"alert",rules:{email:[{pattern:"required",errMsg:"邮箱不能为空"},{pattern:/^([\w-_]+(?:\.[\w-_]+)*)@((?:[a-z0-9]+(?:-[a-zA-Z0-9]+)*)+\.[a-z]{2,6})$/i,errMsg:"请输入有效的邮箱格式"}],password:[{pattern:"required",errMsg:"密码不能为空"}]}}}},mounted:function(){var t=this,a=[],e=function(t){return"alert"===t?alert.bind(window):"function"==typeof t?t:void 0},r=function(a,r){var i=void 0;return"required"===a.pattern?i=function(t,a,e,r){this[t].length>0?r():(e(this.validRule.msgAlert)(a.errMsg),r({err:a.errMsg}))}:a.pattern instanceof RegExp?i=function(t,a,e,r){a.pattern.test(this[t])?r():(e(this.validRule.msgAlert)(a.errMsg),r({err:a.errMsg}))}:"function"==typeof a.pattern&&(i=a.pattern),i.bind(t,r,a,e)};o()(this.validRule.rules).forEach(function(e){t.validRule.rules[e].forEach(function(t){var i=r(t,e);return a.push(i)})}),this.$el.querySelector(this.validRule.submitEl).addEventListener("click",function(e){e.preventDefault(),Object(d.a)(a,function(t,a,e){return t(e)},function(a){t[t.validRule.submitHandler](!a)})},!1)},methods:i()({submitLoginHandler:function(t){var a=this;t&&this.$http.post("/api/user/token",{email:a.email,password:a.password}).then(function(t){200===t.status&&(Object(c.a)(t.body.token),a.changeNeedInit(!0),a.initUser(t.body),a.$router.push("/home"))},function(){window.alert("用户名或密码不正确")})},navBack:function(){this.$router.go(-1)}},Object(l.d)(["changeNeedInit","initUser"])),components:{kBg:s.a}}},200:function(t,a,e){var r=e(201);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);e(141)("5dfd9696",r,!0)},201:function(t,a,e){a=t.exports=e(140)(!1),a.push([t.i,".c-form[data-v-587a08b0]{display:block;width:100%}.c-form__group[data-v-587a08b0]{border:none}.c-form__title[data-v-587a08b0]{text-align:center;padding:1em 0}.c-form__content[data-v-587a08b0]{padding:.5em 0 1em}.c-form__input[data-v-587a08b0]{padding:.5em .6em;display:inline-block;border:1px solid #ccc;box-shadow:inset 0 1px 3px #ddd;border-radius:4px;vertical-align:middle}.c-form__input--group[data-v-587a08b0]{display:block;padding:10px;margin:0 0 -1px;border-radius:0;position:relative;top:-1px}.c-form__input--full[data-v-587a08b0]{width:100%}.c-form__input--group[data-v-587a08b0]:first-child{top:1px;border-radius:4px 4px 0 0;margin:0}.c-form__input--group[data-v-587a08b0]:last-child{top:-2px;border-radius:0 0 4px 4px;margin:0}.c-form__input[data-v-587a08b0]:focus{outline:0;border-color:var(--color-dark-primary);z-index:3}.l-fieldset[data-v-587a08b0]{padding:.35em .75em .625em}.c-button-group[data-v-587a08b0]{padding:0 1em}.c-button[data-v-587a08b0]{background:var(--button-primary-fill);border:none;padding:.5em;color:var(--color-white);font-size:1rem;text-align:center}.c-button--success[data-v-587a08b0]{background:var(--button-success-fill)}.c-button--small[data-v-587a08b0]{font-size:.625em}.l-button--full[data-v-587a08b0]{display:inline-block;width:100%}.l-button--full-align[data-v-587a08b0]{padding:0 .75em}.l-header__side[data-v-587a08b0]{padding:1em;max-width:64px}",""])},204:function(t,a,e){"use strict";var r=function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("main",[r("kBg"),t._v(" "),r("header",{staticClass:"header l-grid"},[r("div",{staticClass:"l-header__side l-grid__item--15"},[r("img",{staticClass:"response-img",attrs:{src:e(153),alt:"返回"},on:{click:t.navBack}})])]),t._v(" "),r("div",{staticClass:"l-wrap content"},[r("section",{staticClass:"c-form"},[t._m(0),t._v(" "),r("form",{staticClass:"c-form__content"},[r("fieldset",{staticClass:"c-form__group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"c-form__input c-form__input--group c-form__input--full",attrs:{type:"email",placeholder:"邮箱地址"},domProps:{value:t.email},on:{input:function(a){a.target.composing||(t.email=a.target.value)}}}),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"c-form__input c-form__input--group c-form__input--full",attrs:{type:"password",placeholder:"密码"},domProps:{value:t.password},on:{input:function(a){a.target.composing||(t.password=a.target.value)}}})]),t._v(" "),t._m(1)])])])],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"c-form__title"},[e("p",{staticClass:"font--large"},[t._v("登录到Up!Up!")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"l-fieldset"},[e("button",{staticClass:"c-button l-button--full",attrs:{id:"btnLogin"}},[t._v("登录")])])}],n={render:r,staticRenderFns:i};a.a=n}});